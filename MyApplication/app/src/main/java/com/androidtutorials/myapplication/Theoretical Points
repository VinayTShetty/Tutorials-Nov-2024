üöÄ LaunchedEffect Deep Dive (Full Explanation)
üîπ What is LaunchedEffect?

LaunchedEffect is a Jetpack Compose API
Used to run suspend functions or coroutines automatically when a composable enters composition or when its key changes.

Syntax
*******
LaunchedEffect(key) {
    // suspend work
}

It is lifecycle-aware and tied to the composable.


üìå Key Properties of LaunchedEffect
 It starts executing as soon as the composable enters composition.

Coroutine Scope
***************
It launches in the composition coroutine scope, not ViewModel scope.

Cancels Automatically
*********************
When composable is removed ‚Üí coroutine cancels.

‚úî Clean, declarative, predictable
You describe:
**************
"Run this suspend function whenever key changes."
 Compose executes it for you.



üö´ Where You Should NOT Use LaunchedEffect
Very important for senior-level interviews.
‚ùå 1. Don‚Äôt use it for actions triggered by user interaction

Example (wrong):
****************
Button(onClick = {
    LaunchedEffect(Unit) { doSomething() }
})

‚≠ê Final Summary (Super Short)

Use LaunchedEffect when:
************************
You want to auto-run a suspend function when composable loads
OR when a specific key changes

Do not use it when:
*******************
You need manual triggering
Logic must survive screen rotation
Key changes too often ‚Üí causing restarts
Doing heavy work on the UI thread

‚úÖ Final Simple Summary (Fully Correct)
****************************************
‚úî 1. LaunchedEffect is used to run suspend functions or coroutines inside a composable.
‚úî 2. It should NOT be directly triggered by button clicks or user actions.
(Buttons change state ‚Üí state change may trigger LaunchedEffect if key changes.)
‚úî 3. LaunchedEffect runs automatically the FIRST time the composable enters composition.
‚úî 4. After that, it runs ONLY when its key value changes.
‚úî 5. Normal recompositions (UI refresh) do NOT trigger LaunchedEffect unless the key changes.

----------------------------------------------------------------------------------------------------------------------------
Programe Code for Launched Effect

package com.androidtutorials.myapplication

import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.compose.foundation.layout.*
import androidx.compose.material3.*
import androidx.compose.runtime.*
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.tooling.preview.Preview
import androidx.compose.ui.unit.dp
import androidx.compose.ui.unit.sp
import kotlinx.coroutines.delay
import com.androidtutorials.myapplication.ui.theme.MyApplicationTheme

class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContent {
            MyApplicationTheme {
                Surface(
                    modifier = Modifier.fillMaxSize(),
                    color = MaterialTheme.colorScheme.background
                ) {
                    BooleanKeyLaunchedEffectDemo()
                }
            }
        }
    }
}

@Composable
fun BooleanKeyLaunchedEffectDemo() {

    var counter by remember { mutableStateOf(0) }
    var dummyCounter by remember { mutableStateOf(0) }

    val isEven = counter % 2 == 0

    // üéØ NEW: Result from suspend function
    var message by remember { mutableStateOf("Waiting...") }

    // üî• Runs ONLY when 'isEven' changes
    LaunchedEffect(isEven) {
        message = fakeNetworkCall(isEven)
    }

    Surface(
        modifier = Modifier.fillMaxSize(),
        color = MaterialTheme.colorScheme.background
    ) {

        Column(
            modifier = Modifier.fillMaxSize(),
            verticalArrangement = Arrangement.Center,
            horizontalAlignment = Alignment.CenterHorizontally
        ) {

            Text("Counter = $counter", fontSize = 26.sp)
            Text("isEven = $isEven", fontSize = 22.sp)
            Text("dummyCounter = $dummyCounter", fontSize = 20.sp)

            Spacer(modifier = Modifier.height(20.dp))

            // ‚≠ê This text updates from the suspend function
            Text(
                text = "LaunchedEffect Result: $message",
                fontSize = 18.sp,
                color = MaterialTheme.colorScheme.primary
            )

            Spacer(modifier = Modifier.height(30.dp))

            Button(onClick = { counter++ }) {
                Text("Increase Counter (Change Key)")
            }

            Spacer(modifier = Modifier.height(15.dp))

            Button(onClick = { dummyCounter++ }) {
                Text("Recompose WITHOUT Key Change")
            }
        }
    }
}

// üëâ Very simple suspend function (fake network call)
suspend fun fakeNetworkCall(isEven: Boolean): String {
    delay(1000)  // pretend we're calling internet
    return if (isEven) "‚úî Number is EVEN (from network)"
           else "üî∂ Number is ODD (from network)"
}

@Preview(showBackground = true)
@Composable
fun PreviewDemo() {
    MyApplicationTheme {
        BooleanKeyLaunchedEffectDemo()
    }
}
